/*! For license information please see script.ffffb806.js.LICENSE.txt */
class ContaoSidebarNavigation{navEl=null;opt={submenuContainerClass:".submenu",pageContainerClass:".page-container",followPageContainerLinks:!1,dropdownTogglerHtml:'<button class="toggle-submenu" role="button"></button>'};constructor(e,t){this.navEl=e,this.opt={...this.opt,...t},this.initialize()}initialize(){(()=>{if(this.opt.dropdownTogglerHtml){let e=this.navEl.querySelectorAll(`li${this.opt.submenuContainerClass} > a, li${this.opt.submenuContainerClass} > strong`);for(const t of e){const e=document.createRange().createContextualFragment(this.opt.dropdownTogglerHtml).firstElementChild;e.classList.add("csn--dropdown-toggle"),e.setAttribute("role","button"),t.insertAdjacentElement("beforebegin",e)}}})(),(()=>{let e=this.navEl.querySelectorAll(`li${this.opt.submenuContainerClass}:not(.trail)`);for(const t of e)t.classList.remove("expanded"),t.querySelector(".csn--dropdown-toggle")?.setAttribute("aria-expanded","false")})(),(()=>{const e=this.navEl.querySelectorAll(`li${this.opt.submenuContainerClass}.trail, li${this.opt.submenuContainerClass}.active`);for(const t of e){t.classList.add("expanded");const e=t.querySelectorAll(".csn--dropdown-toggle");for(const t of e)t.setAttribute("aria-expanded","true")}})();let e=[".csn--dropdown-toggle"];if(!1===this.opt.followPageContainerLinks){e.push(`li${this.opt.pageContainerClass} > a`),e.push(`li${this.opt.pageContainerClass} > strong`);const t=this.navEl.querySelectorAll(`li${this.opt.pageContainerClass} > a`);for(const e of t)e.setAttribute("href","#"),e.setAttribute("role","button"),e.setAttribute("focusable","true")}setTimeout((()=>{const t=this.navEl.querySelectorAll(e.join(", "));for(const e of t)e.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation();const t=e.target;(()=>{const e=t.closest("li:not(.expanded)");if(e){const t=e.querySelectorAll("li.expanded");for(const e of t){e.classList.remove("expanded");const t=e.querySelectorAll("ul");for(const e of t)this.slideUp(e)}const o=e.querySelectorAll("[aria-expanded]");for(const e of o)e.setAttribute("aria-expanded","false")}})(),(()=>{const e=this.getSiblings(t.closest("li"));for(const t of e){t.classList.remove("expanded");const e=t.querySelectorAll("[aria-expanded]");for(const t of e)t.setAttribute("aria-expanded","false");const o=t.querySelectorAll("ul");for(const e of o)this.slideUp(e)}})(),(()=>{const e=t.closest("li");if(e.classList.contains("expanded")){const t=e.querySelectorAll(":scope > .csn--dropdown-toggle");for(const e of t)e.setAttribute("aria-expanded","false");e.classList.remove("expanded");const o=e.querySelectorAll(":scope > ul");for(const e of o)this.slideUp(e)}else{const t=e.querySelectorAll(":scope > .csn--dropdown-toggle");for(const e of t)e.setAttribute("aria-expanded","true");e.classList.add("expanded");const o=e.querySelectorAll(":scope > ul");for(const e of o)this.slideDown(e)}})()}))}),100)}getSiblings(e){return Array.from(e.parentNode.children).filter((t=>t!==e))}slideUp(e){e.style.transition="height 0.4s, padding 0.4s, margin 0.4s",e.style.overflow="hidden",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.height="0",e.style.paddingTop="0",e.style.paddingBottom="0",e.style.marginTop="0",e.style.marginBottom="0",setTimeout((()=>{e.style.display="none"}),400)}slideDown(e){e.style.removeProperty("display");let t=window.getComputedStyle(e).display;"none"===t&&(t="block"),e.style.display=t;const o=e.scrollHeight;e.style.height="0",e.style.overflow="hidden",e.style.transition="height 0.4s ease-out, padding 0.4s ease-out, margin 0.4s ease-out",e.offsetHeight,e.style.height=o+"px",e.style.paddingTop="",e.style.paddingBottom="",e.style.marginTop="",e.style.marginBottom="",e.addEventListener("transitionend",(function t(){e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.removeEventListener("transitionend",t)}))}}